\newcommand{\Icon}[1][]{%
\rlap{{\makebox[1.5em][c]{{#1}}}\hspace{0.5em}}%
}

\newcommand{\cvsection}[2][]{%
  \bigskip%
  \ifstrequal{#1}{}{}{\marginpar{\vspace*{\dimexpr1pt-\baselineskip}\raggedright\input{#1}}}%
  {\color{heading}\cvsectionfont\MakeUppercase{\Icon{\csname #2Icon\endcsname}\hspace{0.5ex}\csname #2Text\endcsname}}\\[-1ex]%
  {\color{headingrule}\rule{\linewidth}{2pt}\par}\medskip%
}

\RequirePackage{tikz}

\newcommand{\cvskill}[2]{%
\textcolor{emphasis}{\textbf{#1}}\hfill
\foreach \x in {1,...,5}{%
  \space{\ifnumgreater{\x}{#2}{\color{body!30}}{\color{accent}}\ratingmarker}}\par%
}

\newcommand{\headeritem}[2][]{%
  \if #1\empty%
    \mbox{\personalinfofont{\Icon{\csname #2Icon\endcsname}\hspace{0.5ex}\csname #2Text\endcsname}\hspace{1em}}%
  \else%
    \mbox{\personalinfofont{\Icon{\csname #2Icon\endcsname}\hspace{0.5ex}\href{#1\csname #2Text\endcsname}{\csname #2Text\endcsname}}\hspace{1em}}%
  \fi%
}

\newcommand{\cvheader}{%
  \begingroup
    \begin{minipage}{\dimexpr\linewidth}%
    \raggedright%
    {\namefont\color{name}\MakeUppercase{\name}\par}
    \medskip
    {\titlefont\color{title}\title\par}
    \medskip
    \headeritem{phone}
    \headeritem{address}
    \headeritem[https://www.linkedin.com/in/]{linkedin}
    \headeritem[https://github.com/]{github}
    \headeritem[mailto:]{email}
    \end{minipage}\hfill%
  \endgroup\medskip
}

\newcommand{\cvevent}[4]{%
  {\large\color{emphasis}#1\par}
  \smallskip\normalsize
  \ifstrequal{#2}{}{}{
  \textbf{\color{accent}#2}\par
  \smallskip}
  \ifstrequal{#3}{}{}{{\small\makebox[0.5\linewidth][l]{\faCalendar~#3}}}%
  \ifstrequal{#4}{}{}{{\small\makebox[0.5\linewidth][l]{\faMapMarker~#4}}}\par
  \medskip\normalsize
}

\newcommand{\divider}{\textcolor{body!30}{\hdashrule{\linewidth}{0.6pt}{0.5ex}}\medskip}
